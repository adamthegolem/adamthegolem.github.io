import{bm as x,f as b,bn as O,x as h,bk as D,i as k,bo as P,ac as H,bp as B,bq as L,A as R,aS as Y,be as E,H as $}from"./B87dNYBd.js";const j=x(()=>{const e=h(new Map),t=h(),r=b(()=>{for(const c of e.value.values())if(c)return!0;return!1}),n=D({scrollBody:h(!0)});let i=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",B&&i?.(),t.value=void 0};return k(r,(c,f)=>{if(!P)return;if(!c){f&&l();return}t.value===void 0&&(t.value=document.body.style.overflow);const s=window.innerWidth-document.documentElement.clientWidth,v={padding:s,margin:0},u=n.scrollBody?.value?typeof n.scrollBody.value=="object"?H({padding:n.scrollBody.value.padding===!0?s:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?s:n.scrollBody.value.margin},v):v:{padding:0,margin:0};s>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${s}px`),document.body.style.overflow="hidden"),B&&(i=L(document,"touchmove",o=>q(o),{passive:!1})),R(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function N(e){const t=Math.random().toString(36).substring(2,7),r=j();r.value.set(t,e??!1);const n=b({get:()=>r.value.get(t)??!1,set:i=>r.value.set(t,i)});return O(()=>{r.value.delete(t)}),n}function M(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const r=e.parentNode;return!(r instanceof Element)||r.tagName==="BODY"?!1:M(r)}}function q(e){const t=e||window.event,r=t.target;return r instanceof Element&&M(r)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function T(e){return b(()=>Y(e)?!!E(e)?.closest("form"):!0)}var U=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},d=new WeakMap,y=new WeakMap,m={},g=0,W=function(e){return e&&(e.host||W(e.parentNode))},X=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=W(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},F=function(e,t,r,n){var i=X(t,Array.isArray(e)?e:[e]);m[r]||(m[r]=new WeakMap);var l=m[r],c=[],f=new Set,s=new Set(i),v=function(o){!o||f.has(o)||(f.add(o),v(o.parentNode))};i.forEach(v);var u=function(o){!o||s.has(o)||Array.prototype.forEach.call(o.children,function(a){if(f.has(a))u(a);else try{var p=a.getAttribute(n),w=p!==null&&p!=="false",S=(d.get(a)||0)+1,A=(l.get(a)||0)+1;d.set(a,S),l.set(a,A),c.push(a),S===1&&w&&y.set(a,!0),A===1&&a.setAttribute(r,"true"),w||a.setAttribute(n,"true")}catch(C){console.error("aria-hidden: cannot operate on ",a,C)}})};return u(t),f.clear(),g++,function(){c.forEach(function(o){var a=d.get(o)-1,p=l.get(o)-1;d.set(o,a),l.set(o,p),a||(y.has(o)||o.removeAttribute(n),y.delete(o)),p||o.removeAttribute(r)}),g--,g||(d=new WeakMap,d=new WeakMap,y=new WeakMap,m={})}},I=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=U(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),F(n,i,r,"aria-hidden")):function(){return null}};function V(e){let t;k(()=>E(e),r=>{r?t=I(r):t&&t()}),$(()=>{t&&t()})}export{N as a,V as b,T as u};
